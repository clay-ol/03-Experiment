<HTML>
<script src="https://d3js.org/d3.v4.min.js"></script>


<style>
  div {
    min-width: 400px;
    min-height: 300px;
  }

  .tree {
    border: 1px solid green;
  }

  .pie {
    border: 1px solid purple;
  }

  .bar {
    border: 1px solid brown;
  }
</style>

<script>
  console.log(d3); // test if d3 is loaded

  var testData = { a: 10, b:15, c:59, d:20, e:82}
  // var testData = function(d){
  //   for( i = 0; i < 6; i++){
  //    testData.push( {i: Math.floor(Math.random() * 100) } )
  //   }
  // }
  //initialize global vars like width and height
  const WIDTH = 400;
  const HEIGHT = 300;
  //x and y scaling
  var xScale = d3.scaleLinear()
    .range([0, WIDTH])
    .domain([1450, 5000]);//TODO change these values
  var yScale = d3.scaleLinear()
    .range([0, HEIGHT])
    .domain([2, 89]);
  // function(d){return xscale(d);}


  //add svg to tree div
  var svg_tree


</script>

<body>
  <h1> Hunter Experiment </h1>
  <div id="tree">

  </div>
  <h1> Clay Experiment</h1>
  <div id="pie">
    <script>
      var svg_pie = d3.select("#pie")
        .append("svg")
        .attr("width", WIDTH)
        .attr("height", HEIGHT)
        .append("g")
        .attr("transform", "translate(" + WIDTH / 2 + "," + HEIGHT / 2 + ")");

      var radius = HEIGHT / 2 - 10 // add margin to prevent clipping

      var pie = d3.pie()
        .value(function (d) { return d.value; })
      var pieData = pie(d3.entries(testData))

      var pieDataTest = pie(d3.entries(testData))[1]
      console.log( pieDataTest)

      var arcMaker = d3.arc()
        .innerRadius(50)
        .outerRadius(radius)
      svg_pie
        .selectAll('data')
        .data(pieData)
        .enter()
        .append('path')
        .attr('d', arcMaker)
        .attr("fill", "white")
        .attr("stroke", "black")
        .style("stroke-width", "2px")

      svg_pie
        .selectAll('data')
        .data(pieData)
        .enter()
        .append('circle')
        .attr('r', 5)
        .attr("transform", function (d) { return "translate(" + arcMaker.centroid(d) + ")"; })

    </script>
  </div>
  <h1> Nick Experiment</h1>
  <div id="bar">
    <script>
      // add svg for bar chart
      var svgbar = d3.select("#bar")
        .append("svg")
        .attr("width", WIDTH)
        .attr("height", HEIGHT)
        .append("g")
        .attr("transform", "translate(" + WIDTH / 2 + "," + HEIGHT / 2 + ")");

      // add group element to svg to hold axes and bars
      var gbar = svgbar.append("g").attr("transform", "translate(" + 100 + "," + 100 + ")")

      gbar.append("g")
        .attr("transform", "translate(0," + HEIGHT + ")")
        .call(d3.axisBottom(xScale));


    </script>
  </div>

</body>
<form id="form_submit">
  <input type="submit" value="submit">
</form>

</HTML>