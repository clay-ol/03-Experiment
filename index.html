<HTML>
<script src="https://d3js.org/d3.v4.min.js"></script>


<style>
  div {
    min-width: 400px;
    min-height: 300px;
  }

  .tree {
    border: 1px solid green;
  }

  .pie {
    border: 1px solid purple;
  }

  .bar {
    border: 1px solid brown;
  }
</style>

<script>
  console.log(d3); // test if d3 is loaded

  var testData = { a: 10, b: 50, c: 20, d: 2, e: 16, f: 89 }
  //initialize global vars like width and height
  const WIDTH = 400;
  const HEIGHT = 300;
  //x and y scaling
  var xScale = d3.scaleLinear()
    .range([0, WIDTH])
    .domain([1450, 5000]);//TODO change these values
  var yScale = d3.scaleLinear()
    .range([HEIGHT, 0])
    .domain([2, 89]);
  // function(d){return xscale(d);}


  var margn = 50


</script>

<body>
  <h1> Hunter Experiment </h1>
  <div id="tree">

  </div>
  <h1> Clay Experiment</h1>
  <div id="pie">
    <script>
      var svg_pie = d3.select("#pie")
  .append("svg")
  .attr("width", WIDTH)
  .attr("height", HEIGHT)
  .append("g")
    .attr("transform", "translate(" + WIDTH / 2 + "," + HEIGHT / 2 + ")");

  var radius = HEIGHT/2 - 10 // add margin to prevent clipping

  var pie = d3.pie()
    .value(function(d) {return d.value;})
  var pieData = pie(d3.entries(testData))

  svg_pie
  .selectAll('data')
  .data(pieData)
  .enter()
  .append('path')
  .attr('d', d3.arc()
  .innerRadius(0)
  .outerRadius(radius)
  )
  .attr("fill", "white")
  .attr("stroke", "black")
  .style("stroke-width", "2px")

        </script>
  </div>
  <h1> Nick Experiment</h1>
  <div id="bar">
    <script>
      // add svg for bar chart
      var svgbar = d3.select("#bar")
      .append("svg")
      .attr("width", WIDTH)
      .attr("height", HEIGHT);

      // add group element to svg to hold axes and bars
      var gbar = svgbar.append("g").attr("transform", "translate(" + margn + "," + (HEIGHT - margn/2) + ")");

      // add X axis
      gbar.append("g")
      .call(d3.axisBottom(xScale));

      // add Y axis
      gbar.append("g")
      .attr("transform", "translate(0," + (-1*HEIGHT) + ")")
      .call(d3.axisLeft(yScale));


    </script>
  </div>

</body>
<form id="form_submit">
  <input type="submit" value="submit">
</form>

</HTML>